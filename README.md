# MyRPC4RS

> PingCAP 校招小作业

## 题目

使用 future/tokio-core，设计实现一个路径规划 RPC 服务。要求

1. 可以进行最优路径规划；
2. 便于使用的 API；
3. 路径规划需要考虑路径的繁忙程度；
4. 提供异步 API 库；
5. 要有实际运行的例子。

> 题目对我来说有点难理解，暂且理解为：实现一个RPC框架，且使用此RPC框架实现一个路径规划算法，封装为服务对外。

## 工作计划

[ ] 09.09 立项，设计总体架构，熟悉tokio及futrue框架   
[ ] 09.10 使用rpc层通讯及远程调用  
[ ] 09.11 设计rpc框架用户接口  
[ ] 09.12 实现路径规划算法  
[ ] 09.13 冗余时间  
[ ] 09.14 冗余时间  

## 架构

![架构图](img/framework.png)

* TCP层即为系统TCP传输层，受系统管理，应用通过socket api与其交互
* IO层负责与TCP层交互，接受、发送数据
* 序列化层负责对二进制数据的序列化与反序列化，可以支持多种序列化格式
* 代理层负责代理用户发起的调用，代理其通过RPC执行远程过程

其中IO层使用单独的一个线程维护，其他层运行在使用一个或多个线程中，线程间使用消息机制通讯。